#include "util.h"
#suite FCS

#include "fcs.c"

#test check_calculate_fcs16
const uint8_t buffer[] = {
  0xFF, 0x03, 0xC0, 0x21, 0x01, 0x00, 0x00, 0x0E,
  0x02, 0x06, 0x00, 0x00, 0x00, 0x00, 0x07, 0x02,
  0x08, 0x02, 0xDD, 0x31
};
uint16_t checksum = calculate_fcs16(buffer, 18);
ck_assert_uint_eq(checksum, 0x31DD);


#test check_calculate_fcs16_2
const uint8_t buffer[] = {
  0xFF, 0x03, 0xC0, 0x21, 0x09, 0x00, 0x00, 0x08,
  0x80, 0x34, 0xEB, 0x55, 0x03, 0xAE
};
uint16_t checksum = calculate_fcs16(buffer, 12);
ck_assert_uint_eq(checksum, 0xAE03);
